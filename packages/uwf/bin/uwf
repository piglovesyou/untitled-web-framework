#!/usr/bin/env node

require('@babel/register')({
  cwd: __dirname,
  extensions: ['.ts'],
  ...require('../babel.config'),
});

const verifyCWD = require('../src/tools/lib/verifyCWD').default;
verifyCWD();

const run = require('../src/tools/run').default;
const task = require(`../src/tools/${process.argv[2]}`).default;

run(task).catch(err => {
  console.error(err.stack);
  process.exit(1);
});

